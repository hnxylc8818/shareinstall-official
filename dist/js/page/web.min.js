var DfttModule=function(e){var t={name:"Index",typed:null,init:function(){var e=this;e.tabsFun(),e.writeAppkey(),e.writeAppName(),e.drawAppicon(),e.getAppInfo(),e.onlineTest()},writeAppkey:function(){var e=$.cookie("appkey");e&&($("#app_key").text(e),$("#configAppKey").text(e),$(".doc-appkey").text(e))},drawAppicon:function(){var e=$.cookie("img");e&&$("#app_icon").attr("src",e)},writeAppName:function(){var e=$.cookie("appName");e&&$("#app_name").text(e)},getLength:function(e){return e.replace(/[\u0391-\uFFE5]/g,"aa").length},inputLimit:function(){var e=this,t=0;$('input[name="key"], input[name="value"]').on("input propertychange",function(){var n=$(this).val();if(e.getLength(n)<=20&&(t=n.length),e.getLength(n)>20)return $(this).val($(this).val().substr(0,t)),!1})},getAppInfo:function(){var e=this;$.ajax({url:"http://api.shareinstall.com/appliance/getone",data:{app_key:$.cookie("appkey")},type:"POST",success:function(t){var n=t.data.app_over_time.replace(/-/g,"/"),a=parseInt(new Date(n)-new Date)/1e3/60/60/24;t.code=parseInt(t.code),0===t.code&&(0==t.data.status?e.pageInit():a<=10&&e.pageInit(a))}})},pageInit:function(e){var t=$("#paymentInfo"),n=0;e&&(t.find(".pop-status").text("还有"+Math.round(e)+"天服务将过期"),n=1),n&&!$.cookie("warnshow"+$.cookie("appkey"))?($.cookie("warnshow"+$.cookie("appkey"),1,{expires:1}),layer.open({title:"到期提醒",type:1,area:"800",content:t,closeBtn:n})):n||layer.open({title:"到期提醒",type:1,area:"800",content:t,closeBtn:n})},onlineTest:function(){this.inputLimit(),$(document).on("click",".depoly-line-test",function(){var e=$("#_win_web_test");e.find(".qr_img").empty(),e.find(".qr_text").text(""),layer.open({title:"  ",type:1,area:"800",content:e})}),$(document).on("click",".depoly-button",function(){var e=$('input[name="key"]').val(),t=$('input[name="value"]').val(),n=window.location.href.replace("android.html","")+"js-test.html?appkey="+$.cookie("appkey")+"&"+e+"="+t,a=!0;if(/[\u4e00-\u9fa5]+/.test(e)&&(a=!1,layer.tips("输入不能包含中文",$('input[name="key"]'),{tipsMore:!0,tips:[2,"#ff3333"]})),/[\u4e00-\u9fa5]+/.test(t)&&(a=!1,layer.tips("输入不能包含中文",$('input[name="value"]'),{tipsMore:!0,tips:[2,"#ff3333"]})),a){new QRCode($(".qr_img").empty()[0],{text:n,width:180,height:180,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}console.log(n)})},tabsFun:function(){$(".tab-form li").on("click",function(e){e.preventDefault(),$(this).addClass("active").siblings().removeClass("active");var t=$(this).index();$(".my-app").eq(t).show().siblings().hide()})}};return e[t.name]=t,e}(DfttModule||{});