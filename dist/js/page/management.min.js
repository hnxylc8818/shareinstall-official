var DfttModule=function(e){var t={name:"Index",typed:null,init:function(){var e=this;e.getAmountStatistics(),e.amountStatistics(),e.initEchartsInstall(),e.initEchartsRegister(),e.growthTrendStatistics(),e.increaseStatistics(),e.ipTrend(),e.getSystemVersion(),e.getModel()},initTime:function(e){var t=this,a=a||"今日";e.html(a),e.daterangepicker({maxDate:moment(),dateLimit:{days:30},showDropdowns:!1,showWeekNumbers:!1,timePicker:!1,timePickerIncrement:60,timePicker12Hour:!1,ranges:{"所有":[moment("20160101","YYYYMMDD"),moment()],"今日":[moment().startOf("day"),moment()],"昨日":[moment().subtract("days",1).startOf("day"),moment().subtract("days",1).endOf("day")],"最近7日":[moment().subtract("days",6),moment()],"最近30日":[moment().subtract("days",29),moment()]},opens:"right",buttonClasses:["btn btn-default"],applyClass:"btn-small btn-primary blue",cancelClass:"btn-small",format:"YYYY/MM/DD",separator:" to ",locale:{applyLabel:"确定",cancelLabel:"取消",fromLabel:"起始时间",toLabel:"结束时间",customRangeLabel:"自定义",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1}},function(a,n,i){var i="自定义"==i?a.format("YYYY/MM/DD")+" - "+n.format("YYYY/MM/DD"):i;e.html(i);var o=[a.format("YYYY/MM/DD"),n.format("YYYY/MM/DD")];t.getAmountStatistics(o,e)})},initEchartsPie:function(e,t,a){var n=echarts.init(document.getElementById(e)),i={backgroundColor:"#fff",title:{x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},calculable:!0,series:[{name:t,type:"pie",radius:[20,50],color:["#00a3fe","#45dbda"],center:["50%","50%"],label:{normal:{show:!0},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2,borderColor:"#fff",label:{show:!1},labelLine:{show:!0,length:.001}}},data:a}]};n.setOption(i)},initEchartsCategory:function(e,t,a,n){var i=echarts.init(document.getElementById(e)),o={tooltip:{trigger:"axis"},legend:{data:[{name:"安装量",icon:"bar"},{name:"注册量",icon:"bar"},"安装量","注册量"]},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:t}],yAxis:[{type:"value"}],series:[{name:"安装量",type:"line",smooth:!0,itemStyle:{normal:{areaStyle:{color:"#62c1fb"},color:"#62c1fb",borderColor:"#62c1fb"}},lineStyle:{normal:{color:"#62c1fb"}},data:a},{name:"注册量",type:"line",smooth:!0,itemStyle:{normal:{areaStyle:{color:"#21e8ee"}}},lineStyle:{normal:{width:3,color:"#21e8ee"}},data:n}],color:["#4ad8dc","#2492e7"]};i.setOption(o)},initEchartsMap:function(e,t){var a=echarts.init(document.getElementById(e)),n={title:{x:"center"},tooltip:{trigger:"item",show:!0,formatter:"{b} : {c}",backgroundColor:"#000"},dataRange:{min:0,max:2500,x:"left",y:"bottom",text:["高","低"],calculable:!0},roamController:{show:!0,x:"right",mapTypeControl:{china:!0}},series:[{name:"ip",type:"map",mapType:"china",roam:!1,itemStyle:{normal:{label:{show:!1},textStyle:{backgroundColor:"#000"}},emphasis:{areaStyle:{color:"#000",backgroundColor:"blue"},label:{show:!0,color:"#000",textStyle:{}}}},data:t}]};a.setOption(n)},initEchartsInstall:function(){var e=this;$(".register").html("15"),$(".install").html("15");var t=[{value:10,name:"ios"},{value:5,name:"Android"}];e.initEchartsPie("J_install","安装量",t)},initEchartsRegister:function(){var e=this;$(".register").html("15"),$(".install").html("15");var t=[{value:10,name:"ios"},{value:5,name:"Android"}];e.initEchartsPie("J_register","注册量",t)},growthTrend:function(){var e=this,t=["2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18"],a=[10,120,130,140,150,160,170,180,190,200],n=[210,220,230,240,250,260,270,280,290,3e3];e.initEchartsCategory("J_trend",t,a,n)},amountStatistics:function(){var e=this,t=$("#total");e.initTime(t)},getAmountStatistics:function(e,t){var a=this;if(void 0==e){e=[(new Date).getFullYear()+"/"+((new Date).getMonth()+1>9?(new Date).getMonth()+1:"0"+((new Date).getMonth()+1))+"/"+((new Date).getDate()>9?(new Date).getDate():"0"+(new Date).getDate()),(new Date).getFullYear()+"/"+((new Date).getMonth()+1>9?(new Date).getMonth()+1:"0"+((new Date).getMonth()+1))+"/"+((new Date).getDate()>9?(new Date).getDate():"0"+(new Date).getDate())]}if(console.log(e),void 0==t)a.initEchartsInstall(),a.initEchartsRegister(),a.growthTrend(),a.increaseTrend();else{var n=t.attr("id");"total"==n?(a.initEchartsInstall(),a.initEchartsRegister()):"trend"==n?(console.log("增长趋势"),a.growthTrend()):"increase"==n&&(console.log("活跃趋势"),a.increaseTrend())}},growthTrendStatistics:function(){var e=this,t=$("#trend");e.initTime(t)},increaseStatistics:function(){var e=this,t=$("#increase");e.initTime(t)},increaseTrend:function(){var e=this,t=["2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18","2015-01-18"],a=[10,120,130,140,150,160,170,180,190,200],n=[210,220,230,240,250,260,270,280,290,3e3];e.initEchartsCategory("J_increase",t,a,n)},ipTrend:function(){var e=this,t=[{name:"北京",value:2256},{name:"天津",value:744},{name:"上海",value:578},{name:"重庆",value:806},{name:"河北",value:432},{name:"河南",value:590},{name:"云南",value:132},{name:"辽宁",value:487},{name:"黑龙江",value:336},{name:"湖南",value:295},{name:"安徽",value:398},{name:"山东",value:1055},{name:"新疆",value:201},{name:"江苏",value:795},{name:"浙江",value:655},{name:"江西",value:311},{name:"湖北",value:993},{name:"广西",value:261},{name:"甘肃",value:349},{name:"山西",value:273},{name:"内蒙古",value:343},{name:"陕西",value:319},{name:"吉林",value:325},{name:"福建",value:317},{name:"贵州",value:275},{name:"广东",value:1e3},{name:"青海",value:97},{name:"西藏",value:18},{name:"四川",value:601},{name:"宁夏",value:126},{name:"海南",value:186},{name:"台湾",value:0},{name:"香港",value:11},{name:"澳门",value:0}];e.initEchartsMap("J_ipMap",t),e.ipTrendRendering(t)},ipTrendRendering:function(e){console.log(e);var t="";if(e){for(var a=0;a<e.length;a++){e[a];t+="<div><span>"+e[a].name+"</span>：<span>"+e[a].value+"</span></div>"}$(".location_city").html(t)}},getSystemVersion:function(){var e=this,t=[{value:335,name:"5.5.5"},{value:310,name:"6.0.0"},{value:234,name:"7.0.1"},{value:135,name:"7.1.1"}];e.SystemVersionPie("J_systemVersion",t)},getModel:function(){var e=this,t=[{value:335,name:"5.5.5"},{value:310,name:"6.0.0"},{value:234,name:"7.0.1"},{value:135,name:"7.1.1"}];e.SystemVersionPie("J_getModel",t)},SystemVersionPie:function(e,t){var a=echarts.init(document.getElementById(e)),n={series:[{name:"访问来源",type:"pie",radius:["40%","80%"],color:["#ff6484","#00a3fe","#4cc0c0","#ffb957"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},label:{normal:{show:!0},emphasis:{show:!0}},itemStyle:{normal:{label:{show:!0,position:"inner",formatter:"{b}-{d}%"}}},data:t}]};a.setOption(n)}};return e[t.name]=t,e}(DfttModule||{});$(function(){$.each(DfttModule,function(e,t){$.isPlainObject(t)?$.isFunction(t.init)?t.init():console.error(t.init+" is not a Function!"):console.error(t+" is not a PlainObject!")})});